{% extends 'base.html' %} {% block title %}Usuários{% endblock %} {% block
content %}
<div class="search-cta">
    <input type="text" placeholder="Buscar usuário" class="search" />
    <button class="btn" onclick="openModal()">Cadastrar novo usuário</button>
</div>
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>E-mail</th>
            <th>Status</th>
            <th>Ações</th>
        </tr>
    </thead>
    <tbody id="userTableBody">
        {% for user in users %}
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.email }}</td>
            <td>
                <span
                    class="status {{ 'ativo' if user.is_active else 'inativo' }}"
                >
                    {{ 'Ativo' if user.is_active else 'Inativo' }}
                </span>
            </td>
            <td>
                <div class="acoes">
                    <button
                        class="edit"
                        title="Editar usuário"
                        onclick="editUser({{ user.id }})"
                    >
                        <span class="material-icons">edit</span>
                    </button>
                    <label class="switch" title="Ativar/Inativar usuário">
                        <input
                            type="checkbox"
                            {%
                            if
                            user.is_active
                            %}checked{%
                            endif
                            %}
                            onchange="toggleUserStatus({{ user.id }}, this.checked)"
                        />
                        <span class="slider"></span>
                    </label>
                </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %} {% block extra_modal %}
<div id="modal" class="modal">
    <div class="modal-content">
        <div class="check">
            <h2>Cadastrar usuário</h2>
            <span class="close" onclick="closeModal()">&times;</span>
        </div>
        <div class="login">
            <label for="name">Nome</label>
            <input type="text" id="userName" placeholder="Nome do usuário" />
            <label for="email">Email</label>
            <input
                type="email"
                id="userEmail"
                placeholder="email_usuario@ifms.edu.br"
            />
            <label for="password">Senha</label>
            <input
                type="password"
                id="userPassword"
                placeholder="Senha do usuário"
            />
            <button onclick="saveUser()" id="save">Salvar alterações</button>
        </div>
    </div>
</div>
{% endblock %}
